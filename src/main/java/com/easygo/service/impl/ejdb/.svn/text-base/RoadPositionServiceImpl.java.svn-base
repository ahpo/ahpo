package com.easygo.service.impl.ejdb;

import java.util.List;

import javax.annotation.Resource;

import org.springframework.stereotype.Service;

import com.easygo.dao.ejdb.RoadPositionMapper;
import com.easygo.service.ejdb.RoadPositionService;
import com.easygo.vo.ejdb.RoadPosition;
import com.easygo.vo.ejdb.RoadPositionExample;
import com.pub.service.impl.ServiceImpl;

@Service("roadPositionService")
public class RoadPositionServiceImpl extends ServiceImpl implements RoadPositionService {

	@Resource
	private RoadPositionMapper roadPositionMapper;
	public RoadPositionMapper getRoadPositionMapper() {
		return roadPositionMapper;
	}

	public void setRoadPositionMapper(RoadPositionMapper roadPositionMapper) {
		this.roadPositionMapper = roadPositionMapper;
	}

	public int countByExample(RoadPositionExample example) {
		logger.info("get count from roadPosition by example...");
		return roadPositionMapper.countByExample(example);
	}

	public int deleteByPrimaryKey(Integer id) {
		logger.info("delete record from roadPosition by primarykey["+id+"]...");
		return roadPositionMapper.deleteByPrimaryKey(id);
	}

	public int insertSelective(RoadPosition record) {
		logger.info("insert record into roadPositon...");
		return roadPositionMapper.insertSelective(record);
	}

	public List<RoadPosition> selectPageByExample(RoadPositionExample example,
			int offset, int pageSize) {
		logger.info("get page info from roadPosition by example...");
		return roadPositionMapper.selectPageByExample(example, offset, pageSize);
	}

	public RoadPosition selectByPrimaryKey(Integer id) {
		logger.info("select roadPosition by primarykey["+id+"]...");
		return roadPositionMapper.selectByPrimaryKey(id);
	}

	public int updateByPrimaryKey(RoadPosition record) {
		logger.info("update roadPosition by primarykey["+record.getId()+"]...");
		return roadPositionMapper.updateByPrimaryKey(record);
	}

	/**
	 * 相似性记录检�?
	 * 
	 * @param example
	 * @param id
	 *            roadpositon的id
	 * @param flag
	 *            表示符号 0:修改; 1:插入
	 * @return true:不存在相似的记录; false:存在相似记录
	 */
	public boolean checkSimilarity(RoadPositionExample example, Integer id, int flag){
		List<RoadPosition> list = roadPositionMapper.selectByExample(example);
		if (list == null || list.size() < 1) {
			return true;
		}

		if (flag == 0) { // update
			if (list.size() == 1 && list.get(0).getId().equals(id)) {
				return true;
			}
		}

		return false;
	}
}
